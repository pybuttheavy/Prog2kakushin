# Prog2kakushin
## プログラム１について
### 概要
一定のルールに従ったコマンドを入力することで、colab上でcsvファイルのウェブから入手と保存、削除と、csvファイルの絞り込みを介した編集ができるプログラムです。構文さえ合っていれば修正も可能なはずです。データ入力することで新しいcsvファイルを作成したり、csvファイルを連結、上書きしたり、演算したりする機能もつけたかったのですが難しかったので断念・・。最悪利用者が自分でコードを入力して操作できます。デバックに漏れがあるかも。  
操作方法はコマンドに'help'と入力すると表示されます。説明文に沿って入力してください。未実装機能を使用しようとすると何も起きずにコマンド入力に戻されます。
（・・一周回ってファイル管理アプリにすべきだったか？と思いましたがそうするとpandas関係なくなるし。）
### 用途
csvデータを扱いたいときに！コマンド入力ひとつで！なおEXCELには負ける

## プログラム２について
### 概要
プログラム１のアップデート版。計算機能は思い切ってEXCELさんに譲り、colab上でデータの作成、入手、複製、名前変更、結合など補助向けになった、が正直結合以外はあまり要らないかも。値がランダムなデータの作成やデータの特徴（最大値、最小値、中央値やその位置、平均値、行列のrankなど）表示も考えたが気力が持たず断念。EXCELに直接エクスポート出来たら便利ではあるができません
### 用途
csvデータを扱いたいときにExcelと合わせて

## プログラム３について
一部画像は「いらすとや」からお借りしています
### 概要
麻雀をテーマにしたスロットゲームです。硬い発想にとらわれていたうえに未完成に終わったプログラム１，２と違ってなかなか面白いものができたと思います。
### 用途
遊べます。
### 操作方法 
操作方法はinput欄に何か入力するだけ。空白か、最初の一文字が何かで操作が決まります。具体的には一文字めがz、x、c、vの場合は対応した刻子を捨て、eの場合はゲーム終了。何も入力していない、または一文字目がzxcveのどれでもない場合はスロットを回します。

#### 仕様
最初は手牌（自分が持っている牌）は何もありません。スロットを回してシンボルがそろうと、その牌の刻子を入手できます。

スロットシンボルは５種類しかないうえに一定の確率で必ずそろいます。３つ揃った場合、入手した刻子は「暗刻」です。しかも、シンボルが２つしか揃わず、残り１つのシンボルが１列ずれた場合でも「ポン」扱いで刻子を入手します。この場合、入手する刻子は「明刻」です。つまり牌の入手自体ははヌルゲーです。

不要な刻子を入手してしまっても対応するキーを入力することで打牌（牌を捨てること。このスロットゲームでは刻子を丸ごと捨てます）できます。ちなみにこのスロットゲームには河（捨てた牌を置く場所）の概念はありません。そもそも対戦相手の概念も、フリテンもありません（強いて言うなら強制あがりくらい）。要らない牌は遠慮なく捨てましょう。（例外として、聴牌時はシンボルが２つしか揃わなくても入手できます。入手した牌は必ず対子扱いになります）（例外として、一つも明刻、明槓を持たないまま聴牌になると自動で「立直」になります。この状態では打牌できませんが、貰える点数が増える可能性があります。）

刻子を重複して入手した場合は「槓」します。暗刻２つが重複した場合のみ「暗槓」になります。それ以外は「明槓」です。

手牌に明刻や明槓があるか否かで貰える点数が大幅に変わります。高得点を狙うなら捨てるのもありでしょう。

聴牌（和了まであと一歩の状態）時にシンボルが３つ揃うと自摸あがり、そうでない場合はロン上がりになります。

##### 画面下部
最初に持っている点数は２５０００で、手牌とともに画面下部に表示されます。４面子１雀頭をそろえて和了すると、手牌に応じて点数が増えます。本来の麻雀とは異なり「符」の概念はなく、「翻」の数または役満で決まります。例えばこのスロットゲームで手に入るのは刻子のみ（聴牌時は対子も可）なので、和了すると確定で「対々和：２翻」が手に入ります。余談ですがこのスロットゲームの名前は「対々和狂」です。

・点数表

２翻　　　　　　　２０００点

３翻　　　　　　　４０００点

４翻　　　　　　　６０００点

５翻　　　　　　　８０００点　満貫

６～７翻　　　　１２０００点　跳満

８～１０翻　　　１６０００点　二倍満

１１～１２翻　　２４０００点　三倍満

１３＊N翻　　３２０００＊N点　N倍役満（数え）

天和（５スピン以内に明刻なし和了）、地和（１０スピン以内に明刻なし和了）、緑一色、大三元、字一色、清老頭、四槓子、四暗刻、小四喜　　役満

大四喜、四暗刻単騎（四暗刻かつあがり牌が暗刻）　　　　２倍役満

ローカルルールとして、数え役満（１３翻以上で役満扱い）についてですが、翻が１３＊N（N＞＝１）以上の場合はN倍役満、３２０００＊N点になります。また数え役満とほかの役満は重複せず、数えでない役満が優先されます。

##### 画面上部
画面上部に王牌が表示されています。槓する度に王牌の上がめくれ、ドラ牌（持っている状態で和了するとボーナスで翻が増える）が増えます。その右隣にに自分の風と場の風（東、西、南、北）が表示されています。同じ牌の刻子を持っている場合は翻が増えます。また自分の風が「東」の場合、自分は「親」です。親は貰える点数が１．５倍になります！

##### 画面左部
特定の条件を満たすと特殊な状態になり、一定スピン階数の間、有利な効果が発動するのですが、それらの情報が画面左部に表示されます。

##### 画面右部
残りスピン数、聴牌、立直などは画面右部に表示されます。残りスピン数は特定の条件で増えることがあります。０になると次の局に移り、罰符８０００点（親なら１２０００点）を失い、自分の風、ドラ牌、場合によっては場の風が変わります。しかしこのゲームでは流局しても自分の手牌はリセットされません！ペナルティーは覚悟のうえで役満を狙うのもありでしょう。



### 注意点
ゲームとしては致命的なことに、しばしば変数代入に失敗し「int型変数にNoneTypeは入らない」と出て止まってしまうことがある。そのためデバック作業は（プログラム１，２に比べればはるかにましだが）あまりできていないし、バランスも未調整。和了した時の役の記録ファイル作成も動いているか怪しい。また漢字含めた全角文字は画像に出力できないので無理やり英語にしている。バグ修正含め全体的にブラッシュアップが必要。

さすがにシンボルが５種類は少なすぎるかもしれないし、強制立直使用は変更すべき、裏ドラ選定も一部変更した方がいいかもしれない。英字表記は漢字表記した画像に差し替えるとか、心残りは多い。
### 大問題
画面の更新がある度に新しい画像を生成するのでデータ量がとんでもないことになる。出力した古い画像の削除方法が分からなかったため。ウィンドウを出すようなテクニックがあるらしいがよくわからなかったので断念。半荘分スロットをまわすことすら多分無理です。
### ・・・
ゲームは大人しくゲームエンジンを使って開発しよう。。全画面をテキストで表現すれば、あるいは。時間的余裕があるならアニメーションも使いたかったがcv2では厳しかった。
